<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash-Of-Boots</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="victory.css" type="text/css">
    <script src="music.js"></script>
</head>

<body>
    <!-- AUDIO CONTROLS -->
    <div class="audio-controls">
        <div class="audio-btn active" id="musicBtn" title="Toggle Music">
            <i class="fa-solid fa-music"></i>
        </div>
        <div class="audio-btn active" id="sfxBtn" title="Toggle Sound Effects">
            <i class="fa-solid fa-bell"></i>
        </div>
    </div>
    <div class="dim-overlay"></div>
    <h1 id="winner-text"></h1>
    <div class="winner-popup">
        <img src="./popper.gif" alt="Winner Sticker">
    </div>


    <div class="background">
        <div class="victory-box">
            <div class="victory"></div>
        </div>
        <div class="options-container">
            <div class="play-box">
                <a href="futsal.html" onclick="playClickSound()"></a>
                <div class="play" id="playBtn"></div>
            </div>
            <div class="exit-box">
                <a href="start.html" onclick="playClickSound()"></a>
                <div class="exit" id="exitBtn"></div>
            </div>
        </div>
    </div>



    <script>
        // PLAY AGAIN (same players)
        document.getElementById("playBtn").addEventListener("click", () => {
            // Only remove winner, keep players
            localStorage.removeItem("winnerName");

            // Go directly to futsal page
            window.location.href = "futsal.html";
        });

        // EXIT TO START (reset everything)
        document.getElementById("exitBtn").addEventListener("click", () => {
            // Clear all saved data
            localStorage.clear();

            // Go to start page
            window.location.href = "start.html";
        });
    </script>
    <script>
        const winnerName = localStorage.getItem("winnerName") || "Winner";
        const winnerTeam = localStorage.getItem("winnerTeam") || "";

        // Determine the message based on whether it's a draw or a win
        let message;
        if (winnerTeam === "draw") {
            message = "IT'S A DRAW!";
        } else {
            message = winnerName + " WINS!";
        }

        // Create animated popup text
        const title = document.createElement("h1");
        title.innerText = message;
        title.style.position = "fixed";
        title.style.top = "45%";
        title.style.left = "50%";
        title.style.transform = "translate(-50%, -50%) scale(0)";
        title.style.fontSize = "70px";
        title.style.color = "black";
        title.style.textShadow = "0 0 20px orange";
        title.style.animation = "popWinner 0.9s ease-out forwards";

        document.body.appendChild(title);
    </script>



</body>

</html>